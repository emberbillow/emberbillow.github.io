<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ™®é€šå…‹é‡Œæ ¼æ’å€¼æ¼”ç¤º</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 25px;
            text-align: center;
        }
        .header h1 {
            font-size: 28px;
            margin-bottom: 10px;
        }
        .header p {
            font-size: 14px;
            opacity: 0.9;
        }
        .content {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 20px;
            padding: 20px;
        }
        .sidebar {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
        }
        .main-area {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        .section {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            padding: 15px;
        }
        .section-title {
            font-size: 18px;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #667eea;
        }
        .param-group {
            margin-bottom: 20px;
        }
        .param-group label {
            display: block;
            font-weight: 600;
            margin-bottom: 8px;
            color: #333;
        }
        .param-group select,
        .param-group input {
            width: 100%;
            padding: 10px;
            border: 2px solid #ddd;
            border-radius: 5px;
            font-size: 14px;
            transition: border-color 0.3s;
        }
        .param-group input:focus,
        .param-group select:focus {
            outline: none;
            border-color: #667eea;
        }
        button {
            width: 100%;
            padding: 12px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            margin-top: 10px;
        }
        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        button:active {
            transform: translateY(0);
        }
        .canvas-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        canvas {
            border: 2px solid #667eea;
            border-radius: 8px;
            cursor: crosshair;
            background: #fafafa;
        }
        .results {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            max-height: 400px;
            overflow-y: auto;
        }
        .equation {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            border-left: 4px solid #667eea;
            font-family: 'Courier New', monospace;
            font-size: 13px;
            line-height: 1.6;
        }
        .result-item {
            background: white;
            padding: 12px;
            margin: 8px 0;
            border-radius: 6px;
            border-left: 4px solid #764ba2;
        }
        .result-item strong {
            color: #667eea;
        }
        .instruction {
            background: #fff3cd;
            padding: 12px;
            border-radius: 6px;
            border-left: 4px solid #ffc107;
            margin-bottom: 15px;
            font-size: 14px;
        }
        .mode-indicator {
            background: #d4edda;
            color: #155724;
            padding: 8px;
            border-radius: 5px;
            text-align: center;
            font-weight: bold;
            margin-bottom: 10px;
        }
        .mode-indicator.target {
            background: #cce5ff;
            color: #004085;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ“Š æ™®é€šå…‹é‡Œæ ¼æ’å€¼æ¼”ç¤ºç³»ç»Ÿ</h1>
            <p>Ordinary Kriging Interpolation Demo - åœ°ç»Ÿè®¡å­¦æ•™å­¦å·¥å…·</p>
        </div>
        
        <div class="content">
            <div class="sidebar">
                <div class="section-title">å˜å·®å‡½æ•°è®¾ç½®</div>
                
                <div class="param-group">
                    <label>å˜å·®å‡½æ•°ç±»å‹ï¼š</label>
                    <select id="modelType">
                        <option value="spherical">çƒçŠ¶æ¨¡å‹ (Spherical)</option>
                        <option value="exponential">æŒ‡æ•°æ¨¡å‹ (Exponential)</option>
                        <option value="gaussian">é«˜æ–¯æ¨¡å‹ (Gaussian)</option>
                    </select>
                </div>
                
                <div class="param-group">
                    <label>å—é‡‘å€¼ (Nugget) Câ‚€ï¼š</label>
                    <input type="number" id="nugget" value="0" min="0" step="0.1">
                </div>
                
                <div class="param-group">
                    <label>åŸºå°å€¼ (Sill) Cï¼š</label>
                    <input type="number" id="sill" value="1" min="0.1" step="0.1">
                </div>
                
                <div class="param-group">
                    <label>å˜ç¨‹ (Range) aï¼š</label>
                    <input type="number" id="range" value="100" min="1" step="1">
                </div>
                
                <button onclick="updateVariogram()">æ›´æ–°å˜å·®å‡½æ•°</button>
                <button onclick="clearPoints()">æ¸…é™¤æ‰€æœ‰ç‚¹</button>
                <button onclick="calculate()">è®¡ç®—å…‹é‡Œæ ¼æ’å€¼</button>
                
                <div class="instruction" style="margin-top: 20px;">
                    <strong>æ“ä½œè¯´æ˜ï¼š</strong><br>
                    1. è®¾ç½®å˜å·®å‡½æ•°å‚æ•°<br>
                    2. åœ¨å³ä¾§ç”»å¸ƒç‚¹å‡»ç”Ÿæˆå·²çŸ¥ç‚¹(â‰¥3ä¸ª)<br>
                    3. ç‚¹å‡»"åˆ‡æ¢åˆ°ç›®æ ‡ç‚¹æ¨¡å¼"<br>
                    4. ç‚¹å‡»ç”Ÿæˆç›®æ ‡ç‚¹(1ä¸ª)<br>
                    5. ç‚¹å‡»"è®¡ç®—å…‹é‡Œæ ¼æ’å€¼"
                </div>
            </div>
            
            <div class="main-area">
                <div class="section">
                    <div class="section-title">å˜å·®å‡½æ•°å›¾åƒ</div>
                    <canvas id="variogramCanvas" width="600" height="300"></canvas>
                </div>
                
                <div class="section">
                    <div class="section-title">é‡‡æ ·ç‚¹å¸ƒå±€</div>
                    <div id="modeIndicator" class="mode-indicator">å½“å‰æ¨¡å¼: æ·»åŠ å·²çŸ¥ç‚¹ (ç‚¹å‡»ç”»å¸ƒ)</div>
                    <button id="toggleMode" onclick="toggleMode()" style="margin-bottom: 10px;">åˆ‡æ¢åˆ°ç›®æ ‡ç‚¹æ¨¡å¼</button>
                    <canvas id="pointCanvas" width="600" height="400"></canvas>
                </div>
                
                <div class="section">
                    <div class="section-title">å…‹é‡Œæ ¼æ–¹ç¨‹ç»„ä¸è®¡ç®—ç»“æœ</div>
                    <div id="results" class="results">
                        <p style="color: #666; text-align: center;">è¯·å…ˆæ·»åŠ è‡³å°‘3ä¸ªå·²çŸ¥ç‚¹å’Œ1ä¸ªç›®æ ‡ç‚¹ï¼Œç„¶åç‚¹å‡»"è®¡ç®—å…‹é‡Œæ ¼æ’å€¼"</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        let knownPoints = [];
        let targetPoint = null;
        let mode = 'known'; // 'known' or 'target'
        
        const variogramCanvas = document.getElementById('variogramCanvas');
        const variogramCtx = variogramCanvas.getContext('2d');
        const pointCanvas = document.getElementById('pointCanvas');
        const pointCtx = pointCanvas.getContext('2d');
        
        // åˆå§‹åŒ–
        updateVariogram();
        drawGrid();
        
        function toggleMode() {
            if (mode === 'known') {
                mode = 'target';
                document.getElementById('modeIndicator').textContent = 'å½“å‰æ¨¡å¼: æ·»åŠ ç›®æ ‡ç‚¹ (ç‚¹å‡»ç”»å¸ƒ)';
                document.getElementById('modeIndicator').className = 'mode-indicator target';
                document.getElementById('toggleMode').textContent = 'åˆ‡æ¢åˆ°å·²çŸ¥ç‚¹æ¨¡å¼';
            } else {
                mode = 'known';
                document.getElementById('modeIndicator').textContent = 'å½“å‰æ¨¡å¼: æ·»åŠ å·²çŸ¥ç‚¹ (ç‚¹å‡»ç”»å¸ƒ)';
                document.getElementById('modeIndicator').className = 'mode-indicator';
                document.getElementById('toggleMode').textContent = 'åˆ‡æ¢åˆ°ç›®æ ‡ç‚¹æ¨¡å¼';
            }
        }
        
        function variogram(h, type, nugget, sill, range) {
            if (h === 0) return 0;
            
            const c = sill - nugget;
            
            if (type === 'spherical') {
                if (h >= range) {
                    return nugget + c;
                }
                return nugget + c * (1.5 * h / range - 0.5 * Math.pow(h / range, 3));
            } else if (type === 'exponential') {
                return nugget + c * (1 - Math.exp(-3 * h / range));
            } else if (type === 'gaussian') {
                return nugget + c * (1 - Math.exp(-3 * Math.pow(h / range, 2)));
            }
            return 0;
        }
        
        function updateVariogram() {
            const type = document.getElementById('modelType').value;
            const nugget = parseFloat(document.getElementById('nugget').value);
            const sill = parseFloat(document.getElementById('sill').value);
            const range = parseFloat(document.getElementById('range').value);
            
            const width = variogramCanvas.width;
            const height = variogramCanvas.height;
            const padding = 50;
            
            variogramCtx.clearRect(0, 0, width, height);
            
            // ç»˜åˆ¶åæ ‡è½´
            variogramCtx.strokeStyle = '#333';
            variogramCtx.lineWidth = 2;
            variogramCtx.beginPath();
            variogramCtx.moveTo(padding, height - padding);
            variogramCtx.lineTo(width - padding, height - padding);
            variogramCtx.lineTo(width - padding - 10, height - padding - 5);
            variogramCtx.moveTo(width - padding, height - padding);
            variogramCtx.lineTo(width - padding - 10, height - padding + 5);
            variogramCtx.moveTo(padding, height - padding);
            variogramCtx.lineTo(padding, padding);
            variogramCtx.lineTo(padding - 5, padding + 10);
            variogramCtx.moveTo(padding, padding);
            variogramCtx.lineTo(padding + 5, padding + 10);
            variogramCtx.stroke();
            
            // æ ‡ç­¾
            variogramCtx.fillStyle = '#333';
            variogramCtx.font = '14px Arial';
            variogramCtx.fillText('è·ç¦» h', width - padding - 20, height - padding + 30);
            variogramCtx.save();
            variogramCtx.translate(padding - 30, height / 2);
            variogramCtx.rotate(-Math.PI / 2);
            variogramCtx.fillText('Î³(h)', 0, 0);
            variogramCtx.restore();
            
            // ç»˜åˆ¶å˜å·®å‡½æ•°æ›²çº¿
            const maxH = range * 1.5;
            const maxGamma = sill * 1.2;
            
            variogramCtx.strokeStyle = '#667eea';
            variogramCtx.lineWidth = 3;
            variogramCtx.beginPath();
            
            for (let i = 0; i <= 200; i++) {
                const h = (i / 200) * maxH;
                const gamma = variogram(h, type, nugget, sill, range);
                const x = padding + (h / maxH) * (width - 2 * padding);
                const y = height - padding - (gamma / maxGamma) * (height - 2 * padding);
                
                if (i === 0) {
                    variogramCtx.moveTo(x, y);
                } else {
                    variogramCtx.lineTo(x, y);
                }
            }
            variogramCtx.stroke();
            
            // ç»˜åˆ¶å‚è€ƒçº¿
            variogramCtx.strokeStyle = '#ccc';
            variogramCtx.lineWidth = 1;
            variogramCtx.setLineDash([5, 5]);
            
            // å—é‡‘å€¼çº¿
            const nuggetY = height - padding - (nugget / maxGamma) * (height - 2 * padding);
            variogramCtx.beginPath();
            variogramCtx.moveTo(padding, nuggetY);
            variogramCtx.lineTo(width - padding, nuggetY);
            variogramCtx.stroke();
            variogramCtx.fillStyle = '#ff6b6b';
            variogramCtx.fillText(`Câ‚€=${nugget}`, width - padding + 5, nuggetY);
            
            // åŸºå°å€¼çº¿
            const sillY = height - padding - (sill / maxGamma) * (height - 2 * padding);
            variogramCtx.beginPath();
            variogramCtx.moveTo(padding, sillY);
            variogramCtx.lineTo(width - padding, sillY);
            variogramCtx.stroke();
            variogramCtx.fillStyle = '#51cf66';
            variogramCtx.fillText(`C=${sill}`, width - padding + 5, sillY);
            
            // å˜ç¨‹çº¿
            const rangeX = padding + (range / maxH) * (width - 2 * padding);
            variogramCtx.beginPath();
            variogramCtx.moveTo(rangeX, height - padding);
            variogramCtx.lineTo(rangeX, padding);
            variogramCtx.stroke();
            variogramCtx.fillStyle = '#339af0';
            variogramCtx.fillText(`a=${range}`, rangeX - 20, padding - 5);
            
            variogramCtx.setLineDash([]);
        }
        
        function drawGrid() {
            const width = pointCanvas.width;
            const height = pointCanvas.height;
            
            pointCtx.clearRect(0, 0, width, height);
            
            // ç»˜åˆ¶ç½‘æ ¼
            pointCtx.strokeStyle = '#e0e0e0';
            pointCtx.lineWidth = 1;
            
            for (let i = 0; i <= width; i += 50) {
                pointCtx.beginPath();
                pointCtx.moveTo(i, 0);
                pointCtx.lineTo(i, height);
                pointCtx.stroke();
            }
            
            for (let i = 0; i <= height; i += 50) {
                pointCtx.beginPath();
                pointCtx.moveTo(0, i);
                pointCtx.lineTo(width, i);
                pointCtx.stroke();
            }
            
            // ç»˜åˆ¶åæ ‡è½´
            pointCtx.strokeStyle = '#333';
            pointCtx.lineWidth = 2;
            pointCtx.beginPath();
            pointCtx.moveTo(0, height - 1);
            pointCtx.lineTo(width, height - 1);
            pointCtx.moveTo(1, 0);
            pointCtx.lineTo(1, height);
            pointCtx.stroke();
            
            // æ ‡æ³¨åæ ‡
            pointCtx.fillStyle = '#666';
            pointCtx.font = '12px Arial';
            for (let i = 0; i <= width; i += 100) {
                pointCtx.fillText(i, i - 10, height - 5);
            }
            for (let i = 0; i <= height; i += 100) {
                pointCtx.fillText(height - i, 5, i + 5);
            }
        }
        
        function drawPoints() {
            drawGrid();
            
            // ç»˜åˆ¶å·²çŸ¥ç‚¹
            knownPoints.forEach((pt, idx) => {
                pointCtx.fillStyle = '#667eea';
                pointCtx.beginPath();
                pointCtx.arc(pt.x, pt.y, 8, 0, 2 * Math.PI);
                pointCtx.fill();
                pointCtx.strokeStyle = 'white';
                pointCtx.lineWidth = 2;
                pointCtx.stroke();
                
                pointCtx.fillStyle = '#333';
                pointCtx.font = 'bold 12px Arial';
                pointCtx.fillText(`P${idx + 1}(${pt.z.toFixed(1)})`, pt.x + 12, pt.y - 5);
            });
            
            // ç»˜åˆ¶ç›®æ ‡ç‚¹
            if (targetPoint) {
                pointCtx.strokeStyle = '#e74c3c';
                pointCtx.lineWidth = 3;
                pointCtx.beginPath();
                pointCtx.moveTo(targetPoint.x - 10, targetPoint.y - 10);
                pointCtx.lineTo(targetPoint.x + 10, targetPoint.y + 10);
                pointCtx.moveTo(targetPoint.x + 10, targetPoint.y - 10);
                pointCtx.lineTo(targetPoint.x - 10, targetPoint.y + 10);
                pointCtx.stroke();
                
                pointCtx.fillStyle = '#e74c3c';
                pointCtx.font = 'bold 12px Arial';
                pointCtx.fillText('ç›®æ ‡ç‚¹', targetPoint.x + 12, targetPoint.y - 5);
            }
        }
        
        pointCanvas.addEventListener('click', function(e) {
            const rect = pointCanvas.getBoundingClientRect();
            const x = e.clientX - rect.left;
            const y = e.clientY - rect.top;
            
            if (mode === 'known') {
                // æ£€æŸ¥æ˜¯å¦ä¸å·²æœ‰ç‚¹é‡åˆ
                const tooClose = knownPoints.some(pt => 
                    Math.sqrt(Math.pow(pt.x - x, 2) + Math.pow(pt.y - y, 2)) < 20
                );
                
                if (!tooClose) {
                    const z = Math.random() * 100; // éšæœºç”Ÿæˆå±æ€§å€¼
                    knownPoints.push({ x, y, z });
                    drawPoints();
                } else {
                    alert('ç‚¹ä½å¤ªè¿‘ï¼Œè¯·é€‰æ‹©å…¶ä»–ä½ç½®ï¼');
                }
            } else if (mode === 'target') {
                if (!targetPoint) {
                    targetPoint = { x, y };
                    drawPoints();
                } else {
                    alert('ç›®æ ‡ç‚¹å·²å­˜åœ¨ï¼Œè¯·å…ˆæ¸…é™¤æˆ–åˆ‡æ¢åˆ°å·²çŸ¥ç‚¹æ¨¡å¼ï¼');
                }
            }
        });
        
        function clearPoints() {
            knownPoints = [];
            targetPoint = null;
            drawGrid();
            document.getElementById('results').innerHTML = '<p style="color: #666; text-align: center;">è¯·å…ˆæ·»åŠ è‡³å°‘3ä¸ªå·²çŸ¥ç‚¹å’Œ1ä¸ªç›®æ ‡ç‚¹ï¼Œç„¶åç‚¹å‡»"è®¡ç®—å…‹é‡Œæ ¼æ’å€¼"</p>';
        }
        
        function distance(p1, p2) {
            return Math.sqrt(Math.pow(p1.x - p2.x, 2) + Math.pow(p1.y - p2.y, 2));
        }
        
        function calculate() {
            if (knownPoints.length < 3) {
                alert('è¯·è‡³å°‘æ·»åŠ 3ä¸ªå·²çŸ¥ç‚¹ï¼');
                return;
            }
            
            if (!targetPoint) {
                alert('è¯·æ·»åŠ 1ä¸ªç›®æ ‡ç‚¹ï¼');
                return;
            }
            
            const type = document.getElementById('modelType').value;
            const nugget = parseFloat(document.getElementById('nugget').value);
            const sill = parseFloat(document.getElementById('sill').value);
            const range = parseFloat(document.getElementById('range').value);
            
            const n = knownPoints.length;
            
            // æ„å»ºå…‹é‡Œæ ¼çŸ©é˜µ K
            const K = [];
            for (let i = 0; i < n; i++) {
                K[i] = [];
                for (let j = 0; j < n; j++) {
                    const h = distance(knownPoints[i], knownPoints[j]);
                    K[i][j] = variogram(h, type, nugget, sill, range);
                }
                K[i][n] = 1;
            }
            K[n] = new Array(n).fill(1);
            K[n][n] = 0;
            
            // æ„å»ºå³ä¾§å‘é‡ k
            const k = [];
            for (let i = 0; i < n; i++) {
                const h = distance(knownPoints[i], targetPoint);
                k[i] = variogram(h, type, nugget, sill, range);
            }
            k[n] = 1;
            
            // æ±‚è§£çº¿æ€§æ–¹ç¨‹ç»„ (ä½¿ç”¨é«˜æ–¯æ¶ˆå…ƒæ³•)
            const weights = solveLinearSystem(K, k);
            
            if (!weights) {
                alert('çŸ©é˜µå¥‡å¼‚ï¼Œæ— æ³•æ±‚è§£ï¼è¯·è°ƒæ•´ç‚¹çš„ä½ç½®ã€‚');
                return;
            }
            
            // è®¡ç®—ä¼°è®¡å€¼
            let estimate = 0;
            for (let i = 0; i < n; i++) {
                estimate += weights[i] * knownPoints[i].z;
            }
            
            // è®¡ç®—å…‹é‡Œé‡‘æ–¹å·®
            let variance = 0;
            for (let i = 0; i < n; i++) {
                variance += weights[i] * k[i];
            }
            variance += weights[n];
            
            // æ˜¾ç¤ºç»“æœ
            displayResults(K, k, weights, estimate, variance);
        }
        
        function solveLinearSystem(A, b) {
            const n = A.length;
            const augmented = A.map((row, i) => [...row, b[i]]);
            
            // é«˜æ–¯æ¶ˆå…ƒ
            for (let i = 0; i < n; i++) {
                // å¯»æ‰¾ä¸»å…ƒ
                let maxRow = i;
                for (let k = i + 1; k < n; k++) {
                    if (Math.abs(augmented[k][i]) > Math.abs(augmented[maxRow][i])) {
                        maxRow = k;
                    }
                }
                [augmented[i], augmented[maxRow]] = [augmented[maxRow], augmented[i]];
                
                if (Math.abs(augmented[i][i]) < 1e-10) {
                    return null;
                }
                
                // æ¶ˆå…ƒ
                for (let k = i + 1; k < n; k++) {
                    const factor = augmented[k][i] / augmented[i][i];
                    for (let j = i; j <= n; j++) {
                        augmented[k][j] -= factor * augmented[i][j];
                    }
                }
            }
            
            // å›ä»£
            const x = new Array(n);
            for (let i = n - 1; i >= 0; i--) {
                x[i] = augmented[i][n];
                for (let j = i + 1; j < n; j++) {
                    x[i] -= augmented[i][j] * x[j];
                }
                x[i] /= augmented[i][i];
            }
            
            return x;
        }
        
        function displayResults(K, k, weights, estimate, variance) {
            const n = knownPoints.length;
            let html = '<div class="equation">';
            html += '<strong>å…‹é‡Œæ ¼æ–¹ç¨‹ç»„ï¼š</strong><br><br>';
            
            for (let i = 0; i < n; i++) {
                let eq = '';
                for (let j = 0; j < n; j++) {
                    eq += `${K[i][j].toFixed(4)} Â· Î»${j + 1}`;
                    if (j < n - 1) eq += ' + ';
                }
                eq += ` + Î¼ = ${k[i].toFixed(4)}`;
                html += eq + '<br>';
            }
            
            html += '<br>';
            let sumEq = '';
            for (let i = 0; i < n; i++) {
                sumEq += `Î»${i + 1}`;
                if (i < n - 1) sumEq += ' + ';
            }
            sumEq += ' = 1';
            html += sumEq;
            html += '</div>';
            
            html += '<div class="result-item">';
            html += '<strong>æƒé‡ç³»æ•°ï¼š</strong><br>';
            for (let i = 0; i < n; i++) {
                html += `Î»${i + 1} = ${weights[i].toFixed(6)}<br>`;
            }
            html += `æ‹‰æ ¼æœ—æ—¥ä¹˜å­ Î¼ = ${weights[n].toFixed(6)}`;
            html += '</div>';
            
            html += '<div class="result-item">';
            html += `<strong>ä¼°è®¡å€¼ï¼š</strong> Z* = ${estimate.toFixed(4)}<br>`;
            html += `<strong>å…‹é‡Œé‡‘æ–¹å·®ï¼š</strong> ÏƒÂ²â‚– = ${variance.toFixed(4)}<br>`;
            html += `<strong>å…‹é‡Œé‡‘æ ‡å‡†å·®ï¼š</strong> Ïƒâ‚– = ${Math.sqrt(Math.max(0, variance)).toFixed(4)}`;
            html += '</div>';
            
            html += '<div class="result-item">';
            html += '<strong>è®¡ç®—å…¬å¼ï¼š</strong><br>';
            html += 'Z* = Î£ Î»áµ¢ Â· Záµ¢<br>';
            html += 'ÏƒÂ²â‚– = Î£ Î»áµ¢ Â· Î³(xáµ¢, xâ‚€) + Î¼';
            html += '</div>';
            
            document.getElementById('results').innerHTML = html;
        }
    </script>
</body>
</html>